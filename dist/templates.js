window.templates={
  "_libs": {
    "ui.css": {
      "_ct": "text/css",
      "_pt": "resource/content",
      "_content": ":root {\n  --font: system-ui;\n  --size: 12px;\n  --border: 1px;\n  --border-color: black;\n  --button-color: white;\n  --primary-color: black;\n  --input-color: white;\n  --selection-color: Highlight;\n  --radius: 0px;\n  --margin-base: 6px;\n  --margin: var(--margin-base) 0px 0px 0px; /*top right bottom left */\n  --padding-base: 2px;\n  --padding: var(--padding-base) 6px var(--padding-base) 6px;\n}\n\n.ui_group .ui_paths li {\n  display: inline-block;\n}\n\n.ui_group .ui_paths li+li:before {\n  color: gray;\n  content: \"/\\00a0\";\n}\n\n.ui_group .ui_paths li a {\n  text-decoration: none;\n}\n\n.ui_group .ui_paths {\n  user-select: none;\n  -webkit-user-select: none;\n  font-family: var(--font);\n  font-size: var(--size);\n  list-style: none;\n  margin: 0;\n  padding-inline-start: 0 !important;\n  display: inline-block;\n}\n\n.ui_group.margins .ui_paths {\n  margin: var(--margin);\n}\n\nspan.ui_button {\n  display: inline-block;\n}\n\na.ui_button {\n  display: inline-block;\n  cursor: default;\n}\n\ndiv.ui_button {\n  width: fit-content;\n}\n\n.ui_button-group {\n  font-size: 0; /* hack to deal with the whitespace */\n}\n\n.ui_button-group .ui_button:first-child {\n  border-bottom-left-radius: var(--radius);\n  border-top-left-radius: var(--radius);\n}\n\n.ui_button-group .ui_button.disabled {\n  border: var(--border) solid var(--border-color);\n}\n\n.ui_button-group .ui_button {\n  border-radius: 0;\n}\n\n.ui_button-group .ui_button + .ui_button {\n  border-left: 0;\n}\n\n.ui_button-group .ui_button:last-child {\n  border-bottom-right-radius: var(--radius);\n  border-top-right-radius: var(--radius);\n}\n\n.ui_group {\n  cursor: default;\n  color: black;\n  font-family: var(--font);\n  font-size: var(--size);\n}\n\nhtml:has(body.ui_dialog) {\n  background-color: lightgray;\n}\n\n.ui_dialog {\n  background-color: white;\n  border: 2px solid gray;\n  padding: 12px 12px 12px 12px;\n}\n\nbody.ui_group {\n  margin: 0;\n}\n\n.ui_group p {\n  font-size: var(--size);\n  margin: 0;\n}\n\n.ui_group.margins p {\n  margin-top: var(--margin-base);\n  margin-bottom: 0;\n}\n\n.ui_group h1 {\n  font-size: x-large;\n  margin: 0;\n}\n\n.ui_group.margins h1 {\n  margin: calc(var(--margin-base)*2) 0px calc(var(--margin-base)*2) 0px;\n}\n \n.ui_group h2 {\n  font-size: large;\n  margin: 0;\n}\n\n.ui_group.margins h2 {\n  margin: var(--margin-base) 0px var(--margin-base) 0px;\n}\n\n.ui_group h3 {\n  font-size: var(--size);\n  margin: 0;\n}\n\n.ui_group.margins h3 {\n  margin: var(--margin);\n}\n\n.ui_group h4 {\n  font-size: small;\n  margin: 0;\n}\n\n.ui_group.margins h4 {\n  margin: var(--margin);\n}\n\n.ui_group ul,\n.ui_group ol {\n  list-style-type: square;\n  margin: 0;\n  padding-inline-start: 16px;\n}\n\n.ui_group.margins ul,\n.ui_group.margins ol {\n  margin: var(--margin);\n}\n\n.ui_group li::marker {\n  color: gray;\n  font-size: 12px;\n}\n\n.ui_group li:has(ul > li) {\n  list-style-type: disclosure-open;\n}\n\n.ui_group li:has(ul > li)::marker {\n  color: black !important;\n  font-size: 10px;\n}\n\n.ui_group li > ul ,\n.ui_group li > ol {\n  margin: 0;\n  padding-inline-start: 24px;\n}\n\n.ui_group.margins li > ul ,\n.ui_group.margins li > ol {\n  margin: 0;\n}\n\n.ui_group hr {\n  margin: 0;\n  border: 1px solid lightgray;\n  border-bottom-width: 0;\n}\n\n.ui_group.margins hr {\n  margin: var(--margin);\n}\n\n.ui_group .ui_sep {\n  content:'.';\n  display: inline-block;\n  margin: var(--margin);\n  opacity: 0;\n}\n\n.ui_text {\n  font-family: var(--font);\n  font-size: var(--size);\n}\n\n.ui_label {\n  font-family: var(--font);\n  font-size: var(--size);\n  padding-top: var(--padding-base);\n  padding-bottom: var(--padding-base);\n}\n\n.ui_group.margins .ui_label {\n  margin: var(--margin);\n}\n\n.ui_label .ui_button {\n  margin: 0;\n}\n\n.ui_label.info {\n  font-size: smaller;\n  background-color: lightgray;\n  color: gray;\n}\n\n.ui_button {\n  user-select: none;\n  -webkit-user-select: none;\n  border: var(--border) solid var(--border-color);\n  padding: var(--padding);\n  border-radius: var(--radius);\n  background-color: var(--button-color);\n  text-decoration: none;\n  color: inherit;\n  text-align: center;\n  font-family: var(--font);\n  font-size: var(--size);\n  font-weight: normal;\n  min-width: calc(var(--size) * 1.5);\n}\n\n.ui_tag {\n  user-select: none;\n  -webkit-user-select: none;\n  display: inline-block;\n  cursor: pointer;\n  padding: var(--padding);\n  border-top-right-radius: 6px;\n  background-color: lightgray;\n  font-family: var(--font);\n  font-size: var(--size);\n  border: 1px solid lightgray;\n}\n\n.ui_group.margins .ui_tag,\n.ui_group.margins .ui_button {\n  margin: var(--margin);\n}\n\n.ui_tag .ui_button {\n  padding-right: 0;\n  background-color: lightgray;\n  transform: translateX(3px);\n  padding: 0 !important;\n  margin: 0 !important;\n  border: 0 !important;\n}\n\n.ui_tag a {\n  color: inherit;\n  text-decoration: none;\n}\n\n.ui_button.default {\n  border-color: var(--primary-color);\n}\n\n.ui_button.disabled {\n  border-color: lightgray;\n  color: gray;\n}\n\n.ui_button.borderless {\n  background-color: initial;\n}\n\n.ui_button.inline,\n.ui_group.margins .ui_button.inline {\n  background-color: initial;\n  margin: 0;\n  border: 0;\n}\n\n.full-width {\n  width: 100%;\n}\n\n.pull-right {\n  float: inline-end;\n}\n\n.hidden {\n  display: none;\n}\n\n.invisible {\n  visibility: hidden;\n}\n\n.bold {\n  font-weight: bold;\n}\n\n.underlined {\n  border-bottom: 1px solid black;\n  margin-bottom: calc(var(--margin-base) * 2) !important;\n}\n\n.box {\n  border-radius: var(--radius);\n  border: 1px solid lightgray;\n  padding: 12px 12px 12px 12px; /*top right bottom left */\n}\n\nbody.ui_group.margins.box {\n  margin: 0;\n  padding: 12px 12px 12px 12px; /*top right bottom left */\n}\n\n.ui_group.margins .box,\n.ui_group.margins.box {\n  padding: 6px 12px 12px 12px; /*top right bottom left */\n}\n\n\n.ui_group.margins .box,\n.ui_group.margins.box {\n  margin: var(--margin);\n}\n\n.marginless {\n  margin: 0 !important;\n}\n\n.marginless > * {\n  margin: 0 !important;\n}\n\n.borderless {\n  border: 0 !important;\n}\n\n.ui_group form {\n  display: inline-block;\n}\n\n.ui_group textarea {\n  font-family: var(--font);\n  font-size: var(--size);\n  background-color: var(--input-color);\n  border: 1px dotted gray;\n  font-size: inherit;\n  margin: 0;\n  vertical-align: bottom;\n  box-sizing: border-box;\n}\n\n.ui_group input {\n  font-family: var(--font);\n  font-size: var(--size);\n  padding: var(--padding);\n  margin-right: var(--margin-base);\n  margin: 0;\n  border-radius: 0;\n  box-sizing: border-box;\n}\n\n.ui_group.margins textarea,\n.ui_group.margins button,\n.ui_group.margins select {\n  margin: var(--margin);\n}\n\n.ui_group input[type=checkbox] {\n}\n\n.ui_group input[type=radio] {\n  xtransform: translateY(2px);\n}\n\n.ui_group input[type=range] {\n  appearance: none;\n  background-color: var(--border-color);\n  height: 2px;\n  padding: 1px 0px 1px 0px;\n  transform: translateY(-3px);\n}\n\n.ui_group input[type=range]::-webkit-slider-thumb {\n  appearance: none;\n  background-color: var(--button-color);\n  border: var(--border) solid var(--border-color);\n  height: 12px;\n  width: 12px;\n  border-radius: 6px;\n}\n\n.ui_group.margins input[type=file],\n.ui_group.margins input[type=submit],\n.ui_group.margins input[type=text],\n.ui_group.margins input[type=number],\n.ui_group.margins input[type=date],\n.ui_group.margins input[type=time],\n.ui_group.margins input[type=week],\n.ui_group.margins input[type=datetime-local] {\n  margin: var(--margin);\n}\n\n.ui_group input[type=text],\n.ui_group input[type=number],\n.ui_group input[type=date],\n.ui_group input[type=time],\n.ui_group input[type=week],\n.ui_group input[type=datetime-local] {\n  margin: 0;\n  border: 0;\n  border-bottom: dotted 1px gray;\n  background-color: inherit;\n  background-color: var(--input-color);\n}\n\n.ui_group input[type=file] {\n  color: gray;\n  border-bottom: dotted 1px gray;\n  font-family: inherit;\n  font-size: inherit;\n  padding: var(--padding);\n  padding-left: 0;\n  margin: 0;\n  margin-right: var(--margin-base);\n  max-width: 110px;\n}\n\n::-webkit-file-upload-button {\n  width: 1px;\n  color: rgba(0,0,0,0);\n  border: 0;\n  padding: 0;\n  background-color: inherit;\n  font-family: inherit;\n  font-size: inherit;\n}\n\n.ui_group button,\n.ui_group input[type=submit] {\n  user-select: none;\n  -webkit-user-select: none;\n  font-family: var(--font);\n  font-size: var(--size);\n  font-weight: normal;\n  color: inherit;\n  background-color: inherit;\n  border: var(--border) solid var(--border-color);\n  padding: var(--padding);\n  margin: 0;\n  border-radius: var(--radius);\n  background-color: var(--button-color);\n  min-width: calc(var(--size) * 1.5);\n  text-align: center;\n}\n\n.ui_group select {\n  font-family: var(--font);\n  font-size: var(--size);\n  border: 0;\n  border-radius: 0;\n  appearance: none;\n  border-bottom: var(--border) solid var(--border-color);\n  padding: var(--padding);\n  color: inherit;\n  background-color: inherit;\n  margin: 0;\n  margin-right: var(--margin-base);\n}\n\n.ui_table {\n  font-size: inherit;\n  border-spacing: 0;\n  border-collapse: collapse;\n  width: 100%;\n}\n\n.ui_group.margins .ui_table {\n  margin-bottom: var(--margin);\n}\n\n.ui_table tr {\n  border-bottom: 1px solid lightgray;\n}\n\n.ui_dragger-placeholder {\n  background-color: var(--selection-color);\n  border-radius: 3px;\n}\n\n.ui_dragger-ghost {\n  background-color: black;\n  color: white;\n  opacity: 0.8;\n}\n\n.ui_dragger-canvas {\n  position: relative;\n  border: 1px solid black;\n  height: 500px;\n  overflow: scroll;\n}\n\n.ui_dragger-canvas .ui_dragger-item {\n  position: absolute;\n  margin: 0;\n}\n\n.ui_dragger-item.selected {\n  opacity: 0.8;\n}\n\n.ui_dragger-container.over {\n  outline: 2px solid var(--selection-color);\n}\n\n.ui_cropframe {\n  cursor: move;\n  background-color: black;\n}\n\n.ui_cropframe .ui_cropframe-handle {\n  background-color: var(--selection-color);\n  width: 40px;\n  height: 40px;\n  border-top-left-radius: 40px;\n  cursor: nwse-resize;\n}\n\ndiv:has(> .ui_cropframe.selected) {\n  overflow: unset;\n}\n\n.ui_cropframe.selected {\n  outline: 2px solid var(--selection-color);\n}\n\n.ui_cropframe img {\n  max-width: unset !important;\n}\n\n.clearfix::after {\n  content: \"\";\n  clear: both;\n  display: table;\n}\n"
    },
    "ui.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "function fix_textarea() {\n  var txt = document.querySelector('textarea');\n\n  document.body.addEventListener('submit', function(evt) {\n    localStorage.setItem('_res_ui_content_change_', ''+(new Date().getTime())); \n    var x = txt.selectionStart;\n    var r = {\n      cursor:x,\n      scroll:txt.scrollTop,\n      loc:window.location.toString()\n    };\n    sessionStorage.setItem('__LAST_CUR_INFO', JSON.stringify(r));\n  });\n\n  var restore_text = function() {\n    var r = JSON.parse(sessionStorage.getItem('__LAST_CUR_INFO'));\n    var txt = document.querySelector('textarea');\n    if (txt && r && r.loc == window.location.toString()) {\n      txt.selectionStart = r.cursor;\n      txt.selectionEnd = r.cursor;\n      txt.scrollTop = r.scroll;\n    }\n  };\n\n  txt.addEventListener('keydown', function(evt) {\n    if (evt.keyCode == 13) {\n      var t = Math.ceil(evt.target.scrollTop);\n      setTimeout(function() {\n        evt.target.scrollTop = t;\n      }, 1);\n      evt.target.scrollTop = 0;\n    }\n  });\n\n  restore_text();\n}\n\nfunction scroll_fix() {\n  let h = window.visualViewport.height;\n  document.body.style.height = h+'px';\n\n  window.ontouchend = function(evt) {\n    if (window.pageYOffset \x3C 5) return;\n\n    window.scrollTo(0, -1);\n    setTimeout(function() {\n      window.scrollTo(0, -1);\n    },50);\n\n    evt.preventDefault();\n    evt.stopPropagation();\n  };\n}\n\nfunction scroll_unfix() {\n  window.scrollTo(0, -1);\n  window.ontouchend = null;\n  window.onscroll = null;\n  document.body.style.height = null;\n}\n\nwindow.visualViewport.addEventListener('resize', function(evt) {\n  if (window.visualViewport.height \x3C 200) {\n    document.body.classList.add('small');\n  }\n  else {\n    document.body.classList.remove('small');\n  }\n\n  /*\n  if (window.visualViewport.height \x3C window.document.body.clientHeight) {\n    window.scrollTo(0, -1);\n    setTimeout(function() {\n      scroll_fix();\n    }, 300);\n  }\n  else {\n    scroll_unfix();\n  }\n  */\n\n});\n"
    }
  },
  "factory": {
    "hbs": {
      "pre-render.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  var Handlebars = res.Handlebars;\n\n/*\n * path \".\"\n * path \"/content\" \"res-list\"\n * APP_PREFIX for client side\n */\n\n  var path_func = function () {\n    var args = arguments;\n    var context = args[args.length-1].data.root;\n    var rv = [];\n    var i = 0;\n\n    for (;i \x3C (args.length-1); i++) {\n      var p = args[i];\n      if (i == 0) {\n        if (p == '.') p = context.R['PATH'];\n      }\n      else if (args.length > 2 && i == args.length-2) {\n        if (p !== '' && p.indexOf('.') === -1 && context.C['X']) rv.push(context.C['X']);\n      }\n      rv.push(p);\n    }\n\n    var p = Utils.absolute_path(rv.join(''), context.R['PATH']);\n    p = escape(p);\n    rv = []\n\n    if (context.C['APP_PREFIX']) rv.push(context.C['APP_PREFIX']);\n    if (context.C['P']) rv.push(context.C['P']);\n\n    rv.push(p);\n\n    if (args.length == 2) {\n      if (context.R['SELECTOR']) {\n        rv.push(context.C['X']);\n        rv.push(context.R['SELECTOR']);\n        if (context['Q']) {\n          i = 0;\n          for (var k in context['Q']) {\n            if (i == 0) rv.push('?');\n            else rv.push('&');\n\n            var v = context['Q'][k];\n            rv.push(escape(k));\n            rv.push('=');\n            rv.push(escape(v?v:''));\n            i++;\n          }\n        }\n      }\n    }\n\n    return rv.join('');\n  };\n\n  var include_paths = function (tag, paths, block) {\n    var context = block.data.root._context;\n    var session = block.data.root._session;\n    var p = session.makeOutputPlaceholder();\n\n    var render_content = function(path) {\n      context.resolveTemplateResourceContent(path).then(function(buff) {\n        p.write(buff);\n\n        var pp = paths.shift();\n        if (pp) render_content(pp);\n        else {\n          p.write('\x3C/'+tag+'>');\n          p.end();\n        }\n      });\n    };\n\n    p.write('\x3C'+tag+'>');\n    render_content(paths.shift());\n\n    return p.placeholder;\n  };\n\n  Handlebars.registerHelper('partial', function (name, block) {\n    var out = block.fn();\n    Handlebars.registerPartial(name, out);\n    return '';\n  });\n\n  Handlebars.registerHelper('req_path', path_func);\n\n  Handlebars.registerHelper('res_path', function () {\n    var args = arguments;\n    var context = args[args.length-1].data.root;\n    var rv = [];\n    var i = 0;\n\n    for (;i \x3C (args.length-1); i++) {\n      var p = args[i];\n      rv.push(p);\n    }\n\n    var p = rv.join('/');\n    p = Utils.absolute_path(p, context.R['RES_PATH']);\n    return escape(p);\n  });\n\n/*\n * reset \"R\" \"SELECTOR\"\n * reset \"R\" \"REF_SELECTOR\"\n */\n  Handlebars.registerHelper('reset', function (type, name, val) {\n    if (arguments.length > 3) {\n      var root = arguments[arguments.length-1].data.root;\n      var context = root._context;\n\n      if (type == 'Q') {\n        if (!context.pathInfo['query']) context.pathInfo['query'] = {};\n        context.pathInfo['query'][name] = val;\n      }\n      else if (type == 'R') {\n        if (name == 'SELECTOR') {\n          context.pathInfo['selector'] = val;\n          root['R']['SELECTOR'] = val;\n        }\n        else if (name == 'REF_SELECTOR' && context.pathInfo.referer) {\n          context.pathInfo.referer['selector'] = val;\n          root['R']['REF_SELECTOR'] = val;\n        }\n      }\n      else if (type == 'S') {\n        //root['S'][name] = val;\n        var vv = {};\n        vv[name] = val;\n        context.sessionData.importProperties(vv, function(){});\n      }\n    }\n    return '';\n  });\n\n/*\n * return first not emoty argument\n */\n\n  Handlebars.registerHelper('or', function () {\n    var args = arguments;\n\n    for (var i = 0; i \x3C args.length-1; i++) {\n      if (args[i] !== null && args[i] !== undefined) return args[i];\n    }\n    return '';\n  });\n\n/*\n * if all arguments are non-empty, return return last argument\n */\n\n  Handlebars.registerHelper('and', function () {\n    var args = arguments;\n\n    for (var i = 0; i \x3C args.length-1; i++) {\n      if (!args[i]) return '';\n    }\n\n    return args[args.length-2];\n  });\n\n  Handlebars.registerHelper('val', function () {\n    var args = arguments;\n\n    if (!args[0]) return null;\n    else return args[1].replace('%s', args[0]);\n  });\n\n\n  Handlebars.registerHelper('eq', function (lvalue, rvalue, result, options) {\n    if (lvalue === rvalue) return result;\n    else return null;\n  });\n\n  Handlebars.registerHelper('date', function () {\n    var val = arguments[0];\n    if (val == '' || val == null) return '';\n    if (arguments.length > 2) {\n      var format = arguments[1];\n      var opts = {\n      };\n      var d = new Date(parseInt(val));\n      return d.toLocaleDateString(null, opts);\n    }\n    else {\n      var d = new Date(parseInt(val));\n      return d.toLocaleDateString();\n    }\n  });\n\n\n  /************************************************************************\n\n  {{#match Database.Tables.Count \">\" 5}}\n  There are more than 5 tables\n  {{/match}}\n\n  {{#match \"Test\" \"Test\"}}\n  Default comparison of \"===\"\n  {{/match}}\n\n   ************************************************************************/\n\n  Handlebars.registerHelper('match', function (lvalue, operator, rvalue, options) {\n    var operators = null;\n    var result = null;\n\n    if (arguments.length \x3C 3) {\n      if (lvalue) {\n        operator.data.root._match_rval = true;\n        return operator.fn(this);\n      }\n      else return operator.inverse(this);\n    }\n\n    if (options === undefined) {\n      options = rvalue;\n      rvalue = operator;\n      operator = \"===\";\n    }\n\n    operators = {\n      '==': function (l, r) {\n        return l == r;\n      },\n      '===': function (l, r) {\n        return l === r;\n      },\n      '!=': function (l, r) {\n        return l != r;\n      },\n      '!==': function (l, r) {\n        return l !== r;\n      },\n      '\x3C': function (l, r) {\n        return l \x3C r;\n      },\n      '>': function (l, r) {\n        return l > r;\n      },\n      '\x3C=': function (l, r) {\n        return l \x3C= r;\n      },\n      '>=': function (l, r) {\n        return l >= r;\n      },\n      'contains': function (l, r) {\n        if (l && l.indexOf(r) >= 0) return true;\n        else return false;\n      },\n      '!contains': function (l, r) {\n        if (l && l.indexOf(r) === -1) return true;\n        else return false;\n      },\n      'startsWith': function (l, r) {\n        if (l && l.indexOf(r) === 0) return true;\n        else return false;\n      },\n      '!startsWith': function (l, r) {\n        if (l && l.indexOf(r) === 0) return false;\n        else return true;\n      },\n      'typeof': function (l, r) {\n        return typeof l == r;\n      }\n    };\n\n    if (!operators[operator]) {\n      throw new Error(\"Handlerbars Helper 'compare' doesn't know the operator \" + operator);\n    }\n\n    result = operators[operator](lvalue, rvalue);\n    if (result) options.data.root._match_rval = true;\n\n    if (result) return options.fn(this);\n    else return options.inverse(this);\n  });\n\n  Handlebars.registerHelper('default', function (options) {\n    var result = false;\n\n    if (options.data.root._match_rval) result = true;\n    delete options.data.root._match_rval;\n\n    if (!result) return options.fn(this);\n    else return options.inverse(this);\n  });\n\n  Handlebars.registerHelper('trace', function () {\n    var block = arguments[arguments.length-1];\n    var args = [];\n    var renpath = null;\n    var respath = null;\n    for (var i = 0; i \x3C arguments.length-1; i++) {\n      var it = arguments[i];\n      if (typeof it === 'string') {\n        args.push(it);\n      }\n      else {\n        var rv = {};\n        for (var key in it) {\n          var val = it[key];\n          if (key === '_context') continue;\n          if (key === '_session') continue;\n      \n          rv[key] = val;\n        }\n\n        args.push(JSON.stringify(rv, null, 2));\n      }\n    }\n\n    if (block && block['data'] && block['data']['root']) {\n      var ctx = block['data']['root']['_context'];\n      renpath = Utils.get_trace_path(ctx['traceRenderInfo']);\n      respath = Utils.get_trace_path(ctx['currentResource']);\n\n      if (renpath) args.push('ren:'+renpath);\n      if (respath) args.push('res:'+respath);\n    }\n\n    var txt = '\x3C!-- '+args.join(' ')+' -->';\n    return new Handlebars.SafeString(txt);\n  });\n\n  Handlebars.registerHelper('include_http', function () {\n    if (arguments.length \x3C 2) return ''\n\n    var block = arguments[arguments.length-1];\n    var context = block.data.root._context;\n    var session = block.data.root._session;\n    var p = session.makeOutputPlaceholder();\n\n    var clean_up = function(text) {\n      var t = text.toLowerCase();\n      var s = t.indexOf('\x3Cbody');\n      if (s != -1) s = t.indexOf('>', s);\n      var e = t.indexOf('\x3C/body>');\n\n      if (s != -1 && e != -1) return text.substr(s+1, e-s-1);\n      else return text;\n    };\n\n    var fetch_content = function(path) {\n      fetch(path).then(function(respose) {\n        if (respose.ok) {\n          respose.text().then(function(text) {\n            var t = clean_up(text);\n          console.log(t);\n            p.write(t);\n            p.end();\n          });\n        }\n        else {\n          p.write('error:'+path);\n          p.end();\n        }\n      }).catch(function(ex) {\n        p.write('error:'+ex);\n        p.end();\n      });\n    };\n\n    var args = [];\n    for (var i = 0; i \x3C arguments.length-1; i++) {\n      args.push(arguments[i]);\n    }\n\n    fetch_content(args.join(''));\n\n    return p.placeholder;\n  });\n\n  Handlebars.registerHelper('include_css', function () {\n    if (arguments.length \x3C 2) return ''\n\n    var block = arguments[arguments.length-1];\n    var args = [];\n    for (var i = 0; i \x3C arguments.length-1; i++) {\n      args.push(arguments[i]);\n    }\n\n    return include_paths.apply(this, ['style', args, block]);\n  });\n\n  Handlebars.registerHelper('include_js', function () {\n    if (arguments.length \x3C 2) return ''\n\n    var block = arguments[arguments.length-1];\n    var args = [];\n    for (var i = 0; i \x3C arguments.length-1; i++) {\n      args.push(arguments[i]);\n    }\n\n    return include_paths.apply(this, ['script', args, block]);\n  });\n\n  Handlebars.registerHelper('dump', function (block) {\n    if (!block) return '';\n    var rv = {};\n    var context = block['data']?block.data.root:block;\n\n    for (var key in context) {\n      var val = context[key];\n      if (key === '_context') continue;\n      if (key === '_session') continue;\n      \n      rv[key] = val;\n    }\n\n    return JSON.stringify(rv, null, 2);\n  });\n\n  Handlebars.registerHelper('hash', function (block) {\n    if (!block) return '';\n    return Utils.makeHash(block);\n  });\n\n\n  writer.end();\n});\n"
      }
    }
  },
  "mime": {
    "text": {
      "javascript": {
        "minimize.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(function (res, writer, ctx) {\n  var clientside = (typeof window != 'undefined');\n  var xref = res['_xref'];\n\n  if (xref) {\n    var url = escape(xref);\n    writer.start('text/plain');\n    writer.write(url);\n    writer.end();\n  }\n  else if (clientside) {\n    if (res['isContentResource']) {\n      ctx.readResource('.', new ContentWriterAdapter('blob', function (data, ctype) {\n        var blob = new Blob([data], {\n          type: ctype ? ctype : 'application/octet-binary'\n        });\n        var url = URL.createObjectURL(blob);\n\n        writer.start('text/plain');\n        writer.write(`\x3Cscript src=\"${url}\">\x3C/script>`);\n        writer.end();\n      }));\n    }\n    else {\n      writer.error(new Error('resource has no content'));\n      writer.end();\n    }\n  }\n  else {\n    var url = ctx.pathInfo.resourcePath;\n    writer.start('text/plain');\n    writer.write(`\x3Cscript>${url}\x3C/script>`);\n    writer.end();\n  }\n});\n"
        }
      },
      "css": {
        "minimize.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(function (res, writer, ctx) {\n  var clientside = (typeof window != 'undefined');\n  var xref = res['_xref'];\n\n  if (xref) {\n    var url = escape(xref);\n    writer.start('text/plain');\n    writer.write(url);\n    writer.end();\n  }\n  else if (clientside) {\n    if (res['isContentResource']) {\n      ctx.readResource('.', new ContentWriterAdapter('blob', function (data, ctype) {\n        var blob = new Blob([data], {\n          type: ctype ? ctype : 'application/octet-binary'\n        });\n        var url = URL.createObjectURL(blob);\n\n        writer.start('text/plain');\n        writer.write(`\x3Clink rel=\"stylesheet\" href=\"${url}\">\x3C/link>`);\n        writer.end();\n      }));\n    }\n    else {\n      writer.error(new Error('resource has no content'));\n      writer.end();\n    }\n  }\n  else {\n    var url = ctx.pathInfo.resourcePath;\n    writer.start('text/plain');\n    writer.write(`\x3Clink rel=\"stylesheet\" href=\"${url}\">\x3C/link>`);\n    writer.end();\n  }\n});\n"
        }
      }
    }
  },
  "resource": {
    "content": {
      "default.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  ctx.readResource('.', writer);\n});\n"
      },
      "edit.css": {
        "_ct": "text/css",
        "_pt": "resource/content",
        "_content": "html,body {\n  height: 100%;\n  margin: 0px;\n}\nbody {\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column;\n}\n\n.sec_head {\n  margin-top: 2px;\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-bottom: 6px;\n  flex: 0 1 auto;\n}\n\nform {\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\ntextarea:focus {\n  outline: none !important;\n}\n\n#text_form textarea {\n  margin: 0;\n}\n\n#edit_view {\n  resize: none;\n  box-sizing: border-box;\n  padding-left: 8px;\n  display: block;\n  width: 100%;\n  height: 100%;\n  font-family: monospace;\n  font-size: 11px;\n  caret-color: red;\n  background-color: black;\n  color: lightgreen;\n}\n\n#pdf_view, #image_view {\n  border: 0;\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n.head .buttons {\n  display: inline-block;\n  float: right;\n}\n.head .paths {\n  margin: 0;\n  display: inline-block;\n}\n\nbody.small .head {\n  display: none;\n}\n"
      },
      "edit.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"resource/content/edit.css\" \"_libs/ui.css\"}}\n  {{include_js \"_libs/ui.js\"}}\n\n  \x3Ctitle>edit:{{R.PATH}}\x3C/title>\n\x3C/head>\n\n\x3Cbody>\n  \x3Cdiv class=\"sec_head\">\n    \x3Col class=\"ui_paths\">\n      \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n      \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n      \x3Cli>{{name}}\x3C/li>\n    \x3C/ol>\n\n{{#match isTextContentResource}}\n    \x3Cdiv class=\"sec_buttons pull-right\">\n      \x3Ca class=\"ui_button\" href=\"{{req_path \"..\" \"res-list\"}}\">cancel\x3C/a>\n      \x3Cbutton type=\"submit\" form=\"text_form\">save\x3C/button>\n    \x3C/div>\n\n  \x3C/div>\n\n  \x3Cform method=\"post\" action=\"{{res_path R.PATH}}\" id=\"text_form\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n\n    \x3Ctextarea id=\"edit_view\" autocorrect=\"off\" autocapitalize=\"none\" autocomplete=\"off\" autofocus=\"on\" spellcheck=\"false\" name=\"_content\">{{include_safe \".\" \"text\"}}\x3C/textarea>\n\n    \x3Cinput type=\"hidden\" name=\"_rt\" value=\"resource/content\">\x3C/input>\n    \x3Cinput type=\"hidden\" name=\"_ct\" value=\"{{contentType}}\">\x3C/input>\n  \x3C/form>\n\n{{/match}}\n{{#match contentType \"startsWith\" \"image/\"}}\n    \x3Cdiv class=\"toolbar\">\n      \x3Ca class=\"ui_button\" href=\"{{req_path \"..\" \"res-list\"}}\">cancel\x3C/a>\n      \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{include \".\" \"externalize\"}}\">view\x3C/a>\n    \x3C/div>\n\n  \x3C/div>\n\n  \x3Cimg src=\"{{include \".\" \"externalize\"}}\" id=\"image_view\">\x3C/img>\n\n{{/match}}\n{{#match contentType \"startsWith\" \"application/pdf\"}}\n\n    \x3Cdiv class=\"toolbar\">\n      \x3Ca class=\"ui_button\" href=\"{{req_path \"..\" \"res-list\"}}\">cancel\x3C/a>\n      \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{include \".\" \"externalize\"}}\">open\x3C/a>\n    \x3C/div>\n  \n  \x3C/div>\n\n  \x3Ciframe src=\"{{include \".\" \"externalize\"}}\" id=\"pdf_view\">\x3C/iframe>\n\n{{/match}}\n{{#default}}\n\n    \x3Cdiv>unknown file type of {{contentType}}\x3C/div>\n    \x3Ca href=\"{{include \".\" \"externalize\"}}\" download target=\"_blank\">Download\x3C/a>\n\n{{/default}}\n  \x3Cscript>fix_textarea()\x3C/script>\n\x3C/body>\n\n\x3C/html>\n"
      },
      "externalize.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  var clientside = (typeof window != 'undefined');\n  var xref = res['externalizedPath'];\n\n  if (xref) {\n    var url = escape(xref);\n    writer.start('text/plain');\n    writer.write(url);\n    writer.end();\n  }\n  else if (clientside) {\n     if (typeof window['__path2url'] == 'undefined') window.__path2url = {};  \n\n    if (res['isContentResource']) {\n      var path = res['path'];\n      var url = window.__path2url[path];\n      if (url) {\n        writer.start('text/plain');\n        writer.write(url);\n        writer.end();      \n      }\n      else {\n        ctx.readResource('.', new ContentWriterAdapter('blob', function (data, ctype) {\n          var blob = new Blob([data], {\n            type: ctype ? ctype : 'application/octet-binary'\n          });\n          var url = URL.createObjectURL(blob);\n          window.__path2url[path] = url;\n\n          writer.start('text/plain');\n          writer.write(url);\n          writer.end();\n        }));\n      }\n    }\n    else {\n      writer.error(new Error('resource has no content'));\n      writer.end();\n    }\n  }\n  else {\n    var url = ctx.pathInfo.resourcePath;\n    writer.start('text/plain');\n    writer.write(url);\n    writer.end();\n  }\n});\n"
      },
      "import.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  var path = ctx.getCurrentDataPath();\n\n  ctx.readResource('.', new ContentWriterAdapter('utf8', function (buff) {\n    ctx.storeResource(path, {\n      '_content':buff,\n      ':import':path\n    }, \n    function() {\n      writer.start('text/plain');\n      writer.write('done');\n      writer.end();\n    });\n  }));\n});\n"
      },
      "res-importto.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  \x3Ctitle>Import to\x3C/title>\n\n  \x3Clink href=\"{{C.BOOTSTRAP_CSS}}\" rel=\"stylesheet\">\n\x3C/head>\n\n\x3Cbody>\n\n  \x3Cdiv role=\"dialog\">\n    \x3Cdiv class=\"modal-dialog\" role=\"document\">\n      \x3Cdiv class=\"modal-content\">\n        \x3Cdiv class=\"modal-header\">\n          \x3Ca class=\"close\" href=\"{{C.P}}{{R.PATH_APPEND}}../{{C.X}}res-list\">\x3Cspan aria-hidden=\"true\">&times;\x3C/span>\x3C/a>\n          \x3Ch4 class=\"modal-title\">Import Resources\x3C/h4>\n        \x3C/div>\n        \x3Cdiv class=\"modal-body\">\n\n          \x3Ch1>Import archive\x3C/h1>\n\n          \x3Col class=\"breadcrumb\">\n            \x3Cli class=\"active\">HOME\x3C/li>\n            {{#include \".\" \"parents\"}}\n              \x3Cli class=\"active\">{{name}}\x3C/li>\n            {{/include}}\n            \x3Cli>{{R.NAME}}\x3C/li>\n          \x3C/ol>\n\n          \x3Ch1>to\x3C/h1>\n\n          \x3Col class=\"breadcrumb\">\n            \x3Cli>\x3Ca href=\"{{C.P}}{{R.PATH}}{{C.X}}res-importto/\">HOME\x3C/a>\x3C/li>\n            {{#include R.DATA_PATH \"parents\"}}\n              \x3Cli>\x3Ca href=\"{{C.P}}{{R.PATH}}{{C.X}}res-importto{{path}}\">{{name}}\x3C/a>\x3C/li>\n            {{/include}}\n            \x3Cli class=\"active\">{{R.DATA_NAME}}\x3C/li>\n          \x3C/ol>\n\n          \x3Cform method=\"post\" action=\"{{C.P}}{{R.PATH}}{{C.X}}import{{R.DATA_PATH}}\">\n            \x3Ctable class=\"table\">\n              {{#include R.DATA_PATH \"children\"}}\n                {{#if isContentResource}}\n                  \x3Ctr>\n                    \x3Ctd>\n                      \x3Ci class=\"glyphicon glyphicon-file\">\x3C/i> {{name}}\n                    \x3C/td>\n                  \x3C/tr>\n                {{else}}\n                  \x3Ctr>\n                    {{#match path \"!startsWith\" R.PATH}}\n                      \x3Ctd>\n                        \x3Ci class=\"glyphicon glyphicon-folder-close\">\x3C/i> \x3Ca href=\"{{C.P}}{{R.PATH}}{{C.X}}res-importto{{path}}\">{{name}}\x3C/a>\n                      \x3C/td>\n                    {{/match}}\n                  \x3C/tr>\n                {{/if}}\n\n              {{/include}}\n\n            \x3C/table>\n\n            \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{C.P}}{{R.DATA_PATH}}{{C.X}}res-list\">\n\n            \x3Cdiv class=\"modal-footer\">\n              \x3Ca class=\"btn btn-default\" href=\"{{C.P}}{{R.PATH_APPEND}}../{{C.X}}res-list\">Cancel\x3C/a>\n              \x3Cinput class=\"btn btn-success\" type=\"submit\" value=\"Import\">\n            \x3C/div>\n\n          \x3C/form>\n        \x3C/div>\x3C!-- /.modal-content -->\n      \x3C/div>\x3C!-- /.modal-dialog -->\n    \x3C/div>\x3C!-- /.modal -->\n\n\x3C/body>\n\n\x3C/html>\n"
      },
      "res-list.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  let x = context.getConfigProperty('X');\n  context.forwardRequest(context.getCurrentResourcePath()+x+'edit');\n  writer.end();\n});\n"
      },
      "text.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  if (res && res['isContentResource']) {\n    ctx.readResource('.', new ContentWriterAdapter('utf8', function (data, ctype) {\n      writer.start('text/plain');\n      writer.write(data);\n      writer.end();\n    }));\n  }\n  else {\n    writer.error(new Error('resource has no content'));\n    writer.end();\n  }\n});\n"
      }
    },
    "index": {
      "children.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  writer.start('object/javascript');\n  var qp = ctx.getQueryProperties();\n  var qry = '';\n\n  if (qp && qp['q']) qry = qp['q'];\n  if (!qry) {\n    writer.write([]);\n    writer.end();\n    return;\n  }\n\n  ctx.searchResources('.', qry).then(function(ls) {\n    var rv = [];\n    for (var i = 0; i \x3C ls.length; i++) {\n      var it = ls[i];\n      rv.push(it);\n    } \n    writer.write(rv);\n    writer.end();\n  });\n})\n"
      },
      "res-create.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>index content\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group dialog\">\n\n  \x3Ch1>Index Resource Content\n    \x3Ca class=\"ui_button pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ch4>Index Text\x3C/h4>\n\n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{res_path R.PATH \"{:name}\"}}\">\n    \x3Ctextarea autocorrect=\"off\" autocapitalize=\"none\" {{> text_opts}} name=\"_content\">\x3C/textarea>\n    \x3Cinput type=\"text\" name=\":name|newUUID\" value=\"\" {{> text_opts}} placeholder=\"reference path\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"res-list\"}}\">\n    \x3Cbutton type=\"submit\">index\x3C/button>\n  \x3C/form>\n\n  \x3Ch4>Index File\x3C/h4>\n\n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{res_path R.PATH \"{:name}\"}}\">\n    \x3Cinput type=\"file\" name=\":filename\" value=\"\">\n    \x3Cinput type=\"text\" name=\":name|:filename|newUUID\" value=\"\" {{> text_opts}} placeholder=\"reference path\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"res-list\"}}\">\n    \x3Cbutton type=\"submit\">upload\x3C/button>\n  \x3C/form>\n\n  \x3Ch4>Import File\x3C/h4>\n          \n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{res_path R.PATH}}\">\n    \x3Cinput class=\"form-control\" type=\"file\" name=\":import\" value=\"\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"res-list\"}}\">\n    \x3Cbutton type=\"submit\">import\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-list.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  \x3Ctitle>Index Search\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group\">\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Cform method=\"get\" action=\"{{req_path \".\" \"res-list\"}}\">\n    \x3Ca target=\"_blank\" class=\"ui_button\" href=\"{{req_path \".\" \"res-create\"}}\">create\x3C/a>\n    \x3Ca target=\"_blank\" class=\"ui_button\" href=\"{{req_path \".\" \"/_THE_INDEX_\" \"res-delete\"}}\">clear\x3C/a>\n    \x3Cinput name=\"q\" type=\"text\" placeholder=\"search\" value=\"{{Q.q}}\">\n    \x3Cbutton type=\"submit\">search\x3C/button>\n  \x3C/form>\n\n  \x3Ctable>\n{{#include \".\" \"children\"}}\n    \x3Ctr>\n      \x3Ctd>\n        \x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\n      \x3C/td>\n    \x3C/tr>\n{{/include}}\n  \x3C/table>\n\n\x3C/body>\n\x3C/html>\n"
      }
    },
    "node": {
      "children.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let children = await ctx.listResources('.');\n  let rv = [];\n\n  children.sort(function(a, b) {\n    return Utils.compareNames(a.name, b.name);\n  });\n\n  writer.write(children);\n})\n"
      },
      "dev-tools.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "let el = document.createElement('div');\nel.style.position = 'fixed';\nel.style.top = '0';\nel.style.right = '10px';\nel.style.border = '1px solid black';\nel.style.backgroundColor = 'gray';\n\nlet rbut = document.createElement('div');\nrbut.innerHTML = 'R';\nrbut.addEventListener('click', function() {\n  let u = window.location.toString().replace(/.@.*$/, '');\n  window.open(u+'.@res-list');\n});\n\nlet tbut = document.createElement('div');\ntbut.innerHTML = 'T';\ntbut.addEventListener('click', function() {\n  let u = window.location.toString().replace(/.@.*$/, '');\n  window.open(u+'.@res-renderer');\n});\n\nlet dbut = document.createElement('div');\ndbut.innerHTML = 'D';\ndbut.addEventListener('click', function() {\n  let u = window.location.toString().replace(/.@.*$/, '');\n  window.open(u+'.@dump');\n});\n\nlet xbut = document.createElement('div');\nxbut.innerHTML = 'X';\nxbut.addEventListener('click', function() {\n  showTraceMarkers(document.body.childNodes);\n});\n\nel.appendChild(rbut);\nel.appendChild(tbut);\nel.appendChild(dbut);\nel.appendChild(xbut);\n\ndocument.body.appendChild(el);\n\nwindow.addEventListener(\"storage\", function(evt) {\n  if (evt.key == '_res_ui_content_change_') {\n    setTimeout(function() {\n      window.location.reload();\n    }, 500);\n  }\n});\n\nfunction showTraceMarkers(ls) {\n  for (let i = 0; i \x3C ls.length; i++) {\n    let node = ls[i];\n    if (node.nodeType == 8) {\n      let val = node.nodeValue;\n      let el = document.createElement('div');\n      el.style.backgroundColor = 'yellow';\n      el.innerHTML = val;\n      node.parentNode.replaceChild(el, node);\n    }\n    else {\n      showTraceMarkers(node.childNodes);\n    }\n  }\n}\n"
      },
      "export-json.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  let out = writer;\n  let processing = 0;\n  let ended = false;\n  let count = 0;\n  let path = context.getCurrentDataPath();\n  let rv = {};\n\n  let export_content = function (data) {\n    let func = data['_content'];\n    let ct = data['_ct'];\n    let bin = true;\n\n    if (Utils.is_texttype(ct)) bin = false;\n\n    func(new ContentWriterAdapter(bin ? null : 'utf8', function (buff) {\n\n      if (bin) {\n        data['_ct'] = 'base64:' + (ct ? ct : '');\n        data['_content'] = Utils.ArrayBuffer2base64(buff);\n      }\n      else data['_content'] = buff;\n\n      let p = data[':path'];\n      delete data[':path'];\n      delete data[':name'];\n      Utils.setObjectAtPath(rv, p, data);\n\n      processing--;\n      done();\n    }));\n  };\n\n  let done = function () {\n    if (processing === 0 && ended) {\n      out.write(JSON.stringify(rv, null, 2));\n      out.end();\n      if (out !== writer) writer.end();\n    }\n  };\n\n  let export_children = function () {\n    let path = res['path'];\n    context.exportAllResources(path, 0, {\n      start: function (ctype) {\n        out.start('application/json');\n      },\n      write: function (data) {\n\n        if (data.values['_content']) {\n          processing++;\n          export_content(data.values); //might contain func!\n        }\n        else {\n          let p = data.values[':path'];\n          delete data.values[':path'];\n          delete data.values[':name'];\n          Utils.setObjectAtPath(rv, p, data.values);\n        }\n        count++;\n      },\n      error: function (err) {\n        console.log(err);\n      },\n      end: function () {\n        ended = true;\n        done();\n      }\n    }, true);\n  };\n\n  if (path) {\n    context.resolveResource(path).then(function(ores) {\n      if (ores) {\n        out = ores.getWriter();\n        export_children();\n      }\n      else {\n        context.storeAndResolveResource(path, {'_content':''}).then(function(ores) {\n          out = ores.getWriter();\n          export_children();\n        });\n      }\n    });\n  }\n  else {\n    export_children();\n  }\n\n});\n"
      },
      "export.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  let out = writer;\n  let processing = 0;\n  let ended = false;\n  let count = 0;\n  let path = context.getCurrentDataPath();\n\n  let export_content = function (data) {\n    let func = data['_content'];\n    let ct = data['_ct'];\n    let bin = true;\n\n    if (Utils.is_texttype(ct)) bin = false;\n\n    func(new ContentWriterAdapter(bin ? null : 'utf8', function (buff) {\n\n      if (bin) {\n        data['_ct'] = 'base64:' + (ct ? ct : '');\n        data['_content'] = Utils.ArrayBuffer2base64(buff);\n      }\n      else data['_content'] = buff;\n\n      if (count > 0) out.write('\\n,\\n');\n      out.write(JSON.stringify(data, null, 2));\n\n      processing--;\n      done();\n    }));\n  };\n\n  let done = function () {\n    if (processing === 0 && ended) {\n      out.write('\\n]');\n      out.end();\n      if (out !== writer) writer.end();\n    }\n  };\n\n  let export_children = function () {\n    let path = res['path'];\n    context.exportAllResources(path, 0, {\n      start: function (ctype) {\n        out.start('application/package-json');\n        out.write('[\\n');\n      },\n      write: function (data) {\n\n        if (data.values['_content']) {\n          processing++;\n          export_content(data.values); //might contain func!\n        }\n        else {\n          if (count > 0) out.write('\\n,\\n');\n          out.write(JSON.stringify(data.getValues(), null, 2));\n        }\n        count++;\n      },\n      error: function (err) {\n        console.log(err);\n      },\n      end: function () {\n        ended = true;\n        done();\n      }\n    }, true);\n  };\n\n  if (path) {\n    context.resolveResource(path).then(function(ores) {\n      if (ores) {\n        out = ores.getWriter();\n        export_children();\n      }\n      else {\n        context.storeAndResolveResource(path, {'_content':''}).then(function(ores) {\n          out = ores.getWriter();\n          export_children();\n        });\n      }\n    });\n  }\n  else {\n    export_children();\n  }\n\n});\n"
      },
      "flushcache.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  writer.start('text/plain');\n\n  if (res.flushResourceCache) {\n    res.flushResourceCache();\n    writer.write('DONE');\n  }\n  else {\n    writer.write('NOT_SUPPORTED');\n  }\n\n  writer.end();\n})\n"
      },
      "parentpaths.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  var path = ctx.getCurrentResourcePath();\n\n  var parentPaths = [];\n  var ps = Utils.split_path(path);\n  ps.pop();\n\n  while (ps.length > 0) {\n    var rpath = ps.join('/');\n    var name = ps.pop();\n    var map = res.clone();\n\n    if (name === '') continue;\n\n    map['path'] = '/' + rpath;\n    map['name'] = name;\n\n    parentPaths.unshift(map);\n  }\n\n  writer.write(parentPaths);\n  writer.end();\n\n});\n"
      },
      "parents.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = ctx.getCurrentResourcePath();\n\n  let parentResources = [];\n  let parentPaths = [];\n  let ps = Utils.split_path(path);\n  ps.pop();\n\n  while (1) {\n    let rpath = ps.join('/');\n    if (rpath == '') break;\n    \n    let r = await ctx.resolveResource('/'+rpath);\n    parentResources.unshift(r);\n\n    ps.pop();\n  }\n\n  writer.write(parentResources);\n  writer.end();\n});\n"
      },
      "properties-all.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  let path = ctx.getCurrentResourcePath();\n  let rv = {};\n\n  ctx.exportAllResources(path, 0, {\n    start: function (ctype) {\n    },\n    write: function (data) {\n      let p = data.values[':path'];\n      let c = 0;\n      for (let k in data.values) {\n        if (k.charAt(0) == '_') continue;\n        if (k.charAt(0) == ':') continue;\n\n        let v = data.values[k];\n        Utils.setObjectAtPath(rv, p+'/'+k, v);\n        c++;\n      }\n      if (c == 0) {\n        Utils.setObjectAtPath(rv, p, {});\n      }\n    },\n    error: function (err) {\n      console.log(err);\n    },\n    end: function () {\n      let n = res['name'];\n      writer.start('object/javascript');\n      writer.write(rv[n]);\n      writer.end();\n    }\n  }, true);\n});\n"
      },
      "properties.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  writer.start('object/javascript');\n  writer.write(res._);\n  writer.end();\n})\n"
      },
      "res-copyto.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>copy to\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Copy \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>HOME\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>{{name}}\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ch1>to\x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-copyto\"}}/\">HOME\x3C/a>\x3C/li>\n{{#include R.DATA_PATH \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-copyto\"}}{{path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{R.DATA_NAME}}\x3C/li>\n  \x3C/ol>\n\n  \x3Col>\n{{#include R.DATA_PATH \"children\"}}\n  {{#if isContentResource}}\n    \x3Cli>{{name}}\x3C/li>\n  {{else}}\n    {{#match path \"!startsWith\" ../R.PATH}}\n    \x3Cli>\n      \x3Ca href=\"{{req_path \".\" \"res-copyto\"}}{{path}}\">{{name}}\x3C/a>\n    \x3C/li>\n    {{/match}}\n  {{/if}}\n{{/include}}\n  \x3C/ol>\n\n  \x3Ch3>name:\x3C/h3>\n  \x3Cform method=\"post\" action=\"{{R.PATH}}\">\n\n    \x3Cinput type=\"text\" name=\":name|newUUID\" value=\"Copy of {{R.NAME}}\" {{> text_opts}}>\n    \x3Cinput type=\"hidden\" name=\":copyto\" value=\"{{res_path R.DATA_PATH \"{:name}\"}}\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">copy\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Export\x3C/h3>\n\n  \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{req_path \".\" \"export\"}}\">as JSON\x3C/a>\n  \x3Ca class=\"ui_button\" href=\"{{req_path \".\" \"res-exportto\"}}{{R.DATA_PATH}}\">to resource...\x3C/a>\n{{#if isContentResource}}\n  \x3Ca class=\"ui_button\" href=\"{{req_path \".\" \"res-importto\"}}{{R.DATA_PATH}}\">import into...\x3C/a>\n{{/if}}\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-create.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>create\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Create New Resource in \"{{name}}\" \n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ch3>Resource Node\x3C/h3>\n\n  \x3Cform method=\"post\" action=\"{{res_path R.PATH \"{:name}\"}}\">\n    \x3Cinput type=\"text\" name=\":name|newUUID\" value=\"\" {{> text_opts}} placeholder=\"name\">\n\n    \x3Cselect name=\"_rt\">\n      \x3Coption value=\"\">type not set\x3C/option>\n      \x3Coption disabled>user templates:\x3C/option>\n{{#include C.USER_TEMPLATES \"rendertemplates\"}}\n      \x3Coption value=\"{{this}}\">{{this}}\x3C/option>\n{{/include}}\n    \x3C/select>\n              \n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"ui-close\"}}\">\n    \x3Cbutton type=\"submit\">add\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Empty File\x3C/h3>\n\n  \x3Cform method=\"post\" action=\"{{res_path R.PATH \"{:name}\"}}\">\n    \x3Cinput type=\"text\" name=\":name|newUUID\" value=\"\" {{> text_opts}} placeholder=\"file name\">\n    \x3Cinput type=\"hidden\" name=\"_content\" value=\"\">\x3C/input>\n    \n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n    \x3Cbutton type=\"submit\">add\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Upload File\x3C/h3>\n\n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{res_path R.PATH \"{:name}\"}}\">\n    \x3Cinput type=\"file\" name=\":filename\" value=\"\">\n    \x3Cinput type=\"text\" name=\":name|:filename|newUUID\" value=\"\" {{> text_opts}} placeholder=\"as new file name\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n    \x3Cbutton type=\"submit\">upload\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Import File\x3C/h3>\n  \n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{R.PATH}}\">\n    \x3Cinput type=\"file\" name=\":import\" value=\"\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">import\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-delete.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  \x3Ctitle>delete:{{R.PATH}}\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Delete \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>HOME\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>{{name}}\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ch4>Are you sure you want to delete \"{{name}}\"?\n\n  \x3Cform method=\"post\" action=\"{{res_path \".\"}}\">\n    \x3Cinput type=\"hidden\" name=\"_rt\" value=\"{{renderType}}\">\n    \x3Cinput type=\"hidden\" name=\":delete\" value=\"{{res_path \".\"}}\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n    \x3Cbutton type=\"submit\">delete\x3C/button>\n  \x3C/form>\n  \x3C/h4>\n\n\x3C/body>\n\n\x3C/html>\n"
      },
      "res-exportto.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  \x3Ctitle>export to\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group dialog\">\n\n  \x3Ch1 class=ui_label underlined\">Export from \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \"../\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ch1>to\x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-exportto\"}}/\">HOME\x3C/a>\x3C/li>\n{{#include R.DATA_PATH \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-exportto\"}}{{path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli class=\"active\">{{R.DATA_NAME}}\x3C/li>\n  \x3C/ol>\n\n  \x3Col>\n{{#include R.DATA_PATH \"children\"}}\n  {{#if isContentResource}}\n    \x3Cli>{{name}}\x3C/li>\n  {{else}}\n    {{#match path \"!startsWith\" R.PATH}}\n    \x3Cli>\n      \x3Ca href=\"{{req_path \".\" \"res-exportto\"}}{{path}}\">{{name}}\x3C/a>\n    \x3C/li>\n    {{/match}}\n  {{/if}}\n{{/include}}\n  \x3C/ol>\n\n  \x3Cform method=\"post\" action=\"{{res_path \".\"}}{{C.X}}export{{res_path R.DATA_PATH \"{:name}\"}}\">\n    \x3Cinput type=\"text\" name=\":name|newUUID\" value=\"{{R.NAME}}.json\" autocorrect=\"off\" autocapitalize=\"off\" autocomplete=\"off\" spellcheck=\"false\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.DATA_PATH \"res-list\"}}\">\n    \x3Cbutton type=\"submit\">export\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-list-actions.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "  \x3Ca target=\"_blank\" href=\"{{req_path path \"res-delete\"}}\">d\x3C/a>\n  \x3Ca target=\"_blank\" href=\"{{req_path path \"res-copyto\"}}{{path}}/..\">c\x3C/a>\n  \x3Ca target=\"_blank\" href=\"{{req_path path \"res-moveto\"}}{{path}}/..\">m\x3C/a>\n  \x3Ca target=\"_blank\" href=\"{{req_path path \"res-properties\"}}\">p\x3C/a>\n{{#if renderType}}\n  \x3Ca target=\"_blank\" href=\"{{req_path path \"\"}}\">v\x3C/a>\n{{/if}}\n"
      },
      "res-list.css": {
        "_ct": "text/css",
        "_pt": "resource/content",
        "_content": "table td {\n  xborder-bottom: 1px solid lightgray;\n}\n\ntable td a {\n  text-decoration: none;\n}\n\ntable.sec_nodes tr:hover {\n  background-color: lightblue;\n}\n\n.sec_props {\n  background-color: lightgray;\n}\n"
      },
      "res-list.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"user-scalable=no,width=device-width, initial-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n  \n  {{include_css \"_libs/ui.css\" \"resource/node/res-list.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>list:{{R.PATH}}\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group\">\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Cdiv class=\"ui_button-group\">\n    \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{req_path \".\" \"res-create\"}}\">new\x3C/a>\n    \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{req_path \".\" \"res-renderer\"}}\">render\x3C/a>\n{{#if renderType}}\n    \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{req_path C.USER_TEMPLATES \"/\" renderType \"res-list\"}}\">temp\x3C/a>\n    \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{req_path \".\" \"default\"}}\">render as ({{renderType}})\x3C/a>\n{{/if}}\n    \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{req_path \".\" \"res-properties\"}}\">properties\x3C/a>\n    \x3Ca class=\"ui_button\" target=\"_blank\" href=\"{{req_path \".\" \"dump\"}}\">dump\x3C/a>\n\n    \x3Cform class=\"pull-right\" method=\"get\" action=\"{{req_path \".\" \"res-search\"}}\">\n      \x3Cinput name=\"q\" type=\"text\" placeholder=\"search\" value=\"{{Q.q}}\" {{> text_opts}}>\n      \x3Cbutton type=\"submit\">search\x3C/button>\n    \x3C/form>\n  \x3C/div>\n\n  \x3Cdiv class=\"ui_button-group\">\n    \x3Cform id=\"save_selection\" method=\"post\" action=\"{{res_path \"/session/selection\"}}\">\n      \x3Cinput type=\"hidden\" name=\"_rt\" value=\"resource/selection\">\n      \x3Cinput type=\"hidden\" name=\":reset\" value=\"{{res_path \"/session/selection\"}}\">\n\n      \x3Ca class=\"ui_button act_dialog-show\" href=\"{{req_path \"/session/selection\" \"res-delete\"}}\">delete\x3C/a>\n      \x3Ca class=\"ui_button act_dialog-show\" href=\"{{req_path \"/session/selection\" \"res-copyto\"}}{{path}}/..\">copy\x3C/a>\n      \x3Ca class=\"ui_button act_dialog-show\" href=\"{{req_path \"/session/selection\" \"res-moveto\"}}{{path}}/..\">move\x3C/a>\n    \x3C/form>\n  \x3C/div>\n\n  \x3Cdiv class=\"sec_props\">\n    \x3Ch3>properties:\x3C/h3>\n\n    \x3Ctable class=\"full-width\">\n  {{#include \".\" \"keyvalues\"}}\n      \x3Ctr>\n        \x3Ctd>\n          {{key}}\n        \x3C/td>\n        \x3Ctd>\n          {{value}}\n        \x3C/td>\n      \x3C/tr>\n  {{/include}}\n    \x3C/table>\n  \x3C/div>\n\n  \x3Ch3>nodes:\x3C/h3>\n\n  \x3Ctable class=\"sec_nodes full-width\">\n{{#include \".\" \"children\"}}\n  {{#if isContentResource}}\n    \x3Ctr class=\"ui_dragger-item\">\n      \x3Ctd class=\"ui_dragger-handle\">\n        \x3Cinput form=\"save_selection\" type=\"checkbox\" name=\"{{hash path}}\" value=\"{{path}}\">\n      \x3C/td>\n      \x3Ctd>\n        \x3Ca href=\"{{req_path path \"edit\"}}\">{{name}}\x3C/a>\n      \x3C/td>\n      \x3Ctd>\n        {{contentType}} ({{contentSize}})\n      \x3C/td>\n      \x3Ctd>\n        {{include path \"res-list-actions\"}}\n      \x3C/td>\n    \x3C/tr>\n  {{else}}\n    \x3Ctr class=\"ui_dragger-item\">\n      \x3Ctd class=\"ui_dragger-hadle\">\n        \x3Cinput form=\"save_selection\" type=\"checkbox\" name=\"{{hash path}}\" value=\"{{path}}\">\n      \x3C/td>\n      \x3Ctd>\n        \x3Ca href=\"{{req_path path}}\">{{or _.title name}}/\x3C/a>\n      \x3C/td>\n      \x3Ctd>\n    {{#if renderType}}\n        \x3Ca target=\"_blank\" href=\"{{req_path C.USER_TEMPLATES \"/\" renderType \"res-list\"}}\">{{renderType}}\x3C/a>\n    {{else}}\n        {{type}}\n    {{/if}}\n        \x3Ca target=\"_blank\" href=\"{{req_path path \"res-renderer\"}}\">renderer\x3C/a>\n      \x3C/td>\n      \x3Ctd>\n        {{include path \"res-list-actions\"}}\n      \x3C/td>\n    \x3C/tr>\n  {{/if}}\n{{/include}}\n  \x3C/table>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-moveto.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>move to\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Move \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>HOME\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>{{name}}\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ch1>to\x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-moveto\"}}/\">HOME\x3C/a>\x3C/li>\n{{#include R.DATA_PATH \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-moveto\"}}{{path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli class=\"active\">{{R.DATA_NAME}}\x3C/li>\n  \x3C/ol>\n\n  \x3Col>\n{{#include R.DATA_PATH \"children\"}}\n  {{#if isContentResource}}\n    \x3Cli>{{name}}\x3C/li>\n  {{else}}\n    {{#match path \"!startsWith\" ../R.PATH}}\n    \x3Cli>\n      \x3Ca href=\"{{req_path \".\" \"res-moveto\"}}{{path}}\">{{name}}\x3C/a>\n    \x3C/li>\n    {{/match}}\n  {{/if}}\n{{/include}}\n  \x3C/ol>\n\n  \x3Ch3>name:\x3C/h3>\n  \x3Cform method=\"POST\" action=\"{{R.PATH}}\">\n    \x3Cinput type=\"text\" name=\":name|newUUID\" value=\"{{R.NAME}}\" {{> text_opts}}>\n    \x3Cinput type=\"hidden\" name=\":moveto\" value=\"{{res_path R.DATA_PATH \"{:name}\"}}\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">move\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-properties.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\" \"resource/node/res-list.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>properties:{{R.PATH}}\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Properties for \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ca class=\"ui_button\" href=\"{{req_path \".\" \"res-renderer\"}}\">renderer\x3C/a>\n\n  \x3Ch3>Resource Properties\x3C/h3>\n\n  \x3Ctable>\n{{#include \".\" \"keyvalues\"}}\n    \x3Ctr>\n      \x3Ctd>{{key}}\x3C/td>\n      \x3Ctd>\n        \x3Cinput type=\"text\" name=\"{{name}}\" value=\"{{value}}\" form=\"save_form\" {{> text_opts}}>\n      \x3C/td>\n      \x3Ctd>\n        \x3Cbutton type=\"submit\" form=\"save_form\" style=\"display:none\">+\x3C/button>\n        \x3Cform method=\"post\" action=\"{{res_path \".\"}}\">\n          \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n          \x3Cbutton type=\"submit\" name=\"{{key}}\">-\x3C/button>\n        \x3C/form>\n      \x3C/td>\n    \x3C/tr>\n{{/include}}\n    \x3Ctr>\n      \x3Ctd>\n        \x3Cinput type=\"text\" name=\":name\" value=\"\" autocorrect=\"off\" {{> text_opts}} form=\"save_form\">\n      \x3C/td>\n      \x3Ctd>\n        \x3Cinput type=\"text\" name=\"{:name}\" value=\"\" autocorrect=\"off\" {{> text_opts}} form=\"save_form\">\n      \x3C/td>\n      \x3Ctd>\n        \x3Cbutton type=\"submit\" form=\"save_form\">+\x3C/button>\n      \x3C/td>\n    \x3C/tr>\n  \x3C/table>\n\n  \x3Cbutton type=\"submit\" form=\"save_form\">save\x3C/button>\n  \x3Cform method=\"post\" action=\"{{res_path \".\"}}\" id=\"save_form\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-renderer.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  \x3Ctitle>renderer properties\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Renderer Properties \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path R.PATH \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n \n  \x3Col class=\"ui_paths\">\n    \x3Cli>HOME\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>{{name}}\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n  \n  \x3Ch3>Set User Defined Renderers\x3C/h3>\n    \n  \x3Cp>User defined renderer templates are stored in \x3Ca href=\"{{req_path C.USER_TEMPLATES \"/\" renderType \"res-list\"}}\">{{C.USER_TEMPLATES}}/{{renderType}}\x3C/a>\n  \x3Ca class=\"ui_button\" href=\"{{req_path C.USER_TEMPLATES \"res-create\"}}\">create template...\x3C/a>\n  \x3C/p>\n\n  \x3Ch3>Renderer will take following types into consideration\x3C/h3>\n  \x3Col>\n{{#if renderType}}\n      \x3Cli>renderType: \x3Cb>{{renderType}}\x3C/b>\x3C/li>\n{{else}}\n      \x3Cli>renderType: \x3Cb>no type set\x3C/b>\x3C/li>\n{{/if}}\n{{#if renderSuperType}}\n      \x3Cli>renderSuperType: \x3Cb>{{renderSuperType}}\x3C/b>\x3C/li>\n{{/if}}\n{{#if contentType}}\n      \x3Cli>contentType: mime/\x3Cb>{{contentType}}\x3C/b>\x3C/li>\n{{/if}}\n      \x3Cli>resourceType: \x3Cb>{{type}}\x3C/b>\x3C/li>\n{{#if superType}}\n      \x3Cli>superType: \x3Cb>{{superType}}\x3C/b>\x3C/li>\n{{/if}}\n      \x3Cli>fallback: \x3Cb>any/any\x3C/b>\x3C/li>\n  \x3C/ol>          \n\n  \x3Cform method=\"post\" id=\"save_form\" action=\"{{R.PATH}}\">\n    \x3Clabel>render \x3Cb>type:\x3C/b>\x3C/label>\n    \x3Cselect name=\"_rt\">\n      \x3Coption value=\"\">not set\x3C/option>\n      \x3Coption disabled>-\x3C/option>\n{{#include C.USER_TEMPLATES \"rendertemplates\"}}\n      \x3Coption value=\"{{this}}\" {{eq this ../renderType \"selected\"}}>{{this}}\x3C/option>\n{{/include}}\n    \x3C/select>\n            \n    \x3Clabel class=\"col-sm-4\">render \x3Cb>super type:\x3C/b>\x3C/label>\n    \x3Cselect class=\"form-control\" name=\"_st\">\n      \x3Coption value=\"\">not set\x3C/option>\n      \x3Coption disabled>-\x3C/option>\n{{#include C.USER_TEMPLATES \"rendertemplates\"}}\n      \x3Coption value=\"{{this}}\" {{eq this ../renderSuperType \"selected\"}}>{{this}}\x3C/option>\n{{/include}}\n    \x3C/select>\n\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"ui-close\"}}\">\n    \x3Cbutton type=\"submit\">save\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-search.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"user-scalable=no,width=device-width, initial-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n  \n  {{include_css \"_libs/ui.css\" \"resource/node/res-list.css\"}}\n\n  \x3Ctitle>search:{{R.PATH}}\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group\">\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n  \x3C/ol>\n\n  \x3Cform method=\"get\" action=\"{{req_path \".\" \"res-search\"}}\">\n    \x3Cinput name=\"q\" type=\"text\" placeholder=\"search\" value=\"{{Q.q}}\">\n    \x3Cbutton type=\"submit\">search\x3C/button>\n  \x3C/form>\n  \x3Cbr>\n\n  \x3Ctable>\n{{#include \".\" \"resource/index\" \"children\"}}\n  {{#if isContentResource}}\n    \x3Ctr>\n      \x3Ctd>\n        \x3Ca href=\"{{req_path path \"edit\"}}\">{{name}}\x3C/a>\n      \x3C/td>\n      \x3Ctd>\n        {{contentType}} ({{contentSize}})\n      \x3C/td>\n      \x3Ctd>\n        {{include path \"res-list-actions\"}}\n      \x3C/td>\n    \x3C/tr>\n  {{else}}\n    \x3Ctr>\n      \x3Ctd>\n        \x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\n      \x3C/td>\n      \x3Ctd>\n    {{#if renderType}}\n        \x3Ca href=\"{{req_path C.USER_TEMPLATES \"/\" renderType \"res-list\"}}\">{{renderType}}\x3C/a>\n    {{else}}\n        {{type}}\n    {{/if}}\n        \x3Ca href=\"{{req_path path \"res-renderer\"}}\">renderer\x3C/a>\n      \x3C/td>\n      \x3Ctd>\n        {{include path \"res-list-actions\"}}\n      \x3C/td>\n    \x3C/tr>\n  {{/if}}\n{{/include}}\n  \x3C/table>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-shell.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"resource/res-ui.css\"}}\n\n  \x3Ctitle>shell:{{R.PATH}}\x3C/title>\n\x3C/head>\n  \x3Cstyle>\n    #commandline {\n      width: 100%;\n    }\n  \x3C/style>\n  \x3C!--script>\n      window.addEventListener('DOMContentLoaded', function() {\n        var cmd = document.querySelector('#commandline');\n        if (cmd) {\n          cmd.focus();\n        }\n      });\n  \x3C/script-->\n\n\x3Cbody>\n  \x3Cdiv class=\"head\">\n    \x3Col class=\"paths\">\n      \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n      \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n      \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n    \x3C/ol>\n\n    \x3Cpre>\n    \x3C/pre>\n\n    \x3Cform method=\"post\" action=\"{{res_path R.PATH}}\">\n      \x3Cinput type=\"hidden\" name=\"_rt\" value=\"system/shell\">\n      \x3Cinput id=\"commandline\" type=\"text\" autocorrect=\"off\" autocapitalize=\"none\" autocomplete=\"off\" spellcheck=\"false\" name=\":command\">\n      \x3Cinput type=\"submit\">\n    \x3C/form>\n    \x3Cpre>XXX\x3C/pre>\n  \x3C/div>\n\x3C/body>\n\n\x3C/html>\n"
      }
    },
    "notfound": {
      "default.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  //send 404 only if we are requesing this resource directly\n  if (context.getCurrentRequestPath() === context.getCurrentResourcePath()) {\n    context.sendStatus(404);\n    writer.end();\n  }\n  else {\n    writer.end();\n  }\n});\n"
      },
      "res-list.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  \x3Ctitle>Delete\x3C/title>\n\n  \x3Clink href=\"{{C.BOOTSTRAP_CSS}}\" rel=\"stylesheet\">\n\x3C/head>\n\n\x3Cbody>\n\n  \x3Cdiv role=\"dialog\">\n    \x3Cdiv class=\"modal-dialog\" role=\"document\">\n      \x3Cdiv class=\"modal-content\">\n        \x3Cdiv class=\"modal-header\">\n          \x3Ca class=\"close\" href=\"{{C.P}}{{R.PATH_APPEND}}../{{C.X}}res-list\">\x3Cspan aria-hidden=\"true\">&times;\x3C/span>\x3C/a>\n          \x3Ch4 class=\"modal-title\">Resource Not Found\x3C/h4>\n        \x3C/div>\n        \x3Cdiv class=\"modal-body\">\n\n          \x3Col class=\"breadcrumb\">\n            \x3Cli>\x3Ca href=\"{{C.P}}/{{C.X}}res-list\">HOME\x3C/a>\x3C/li>\n            {{#include \".\" \"parents\"}}\n              \x3Cli>\x3Ca href=\"{{C.P}}{{path}}{{C.X}}res-list\">{{name}}\x3C/a>\x3C/li>\n            {{/include}}\n            \x3Cli class=\"active\">{{R.NAME}}\x3C/li>\n          \x3C/ol>\n\n          \x3Ch4>Resource\"{{name}} not found, create?\"\x3C/h4>\n\n        \x3C/div>\n        \x3Cdiv class=\"modal-footer\">\n          \x3Cform class=\"form-inline\" method=\"post\" action=\"{{C.P}}{{R.PATH}}\">\n            \x3Ca class=\"btn btn-default\" href=\"{{C.P}}{{R.PATH_APPEND}}../{{C.X}}res-list\">Cancel\x3C/a>\n            \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{C.P}}{{R.PATH_APPEND}}{{C.X}}res-list\">\n            \x3Cinput class=\"btn btn-success\" type=\"submit\" value=\"Create\">\n          \x3C/form>\n\n        \x3C/div>\n      \x3C/div>\x3C!-- /.modal-content -->\n    \x3C/div>\x3C!-- /.modal-dialog -->\n  \x3C/div>\x3C!-- /.modal -->\n\n\x3C/body>\n\n\x3C/html>\n\n"
      }
    },
    "redirect": {
      "default.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  let rurl = res._['redirect'];\n  if (rurl && context.getCurrentRequestPath() === context.getCurrentResourcePath()) {\n    let pref = context.getConfigProperty('APP_PREFIX');\n    if (pref) rurl = pref + rurl;\n\n    context.forwardRequest(rurl);\n    writer.end();\n  }\n  else {\n    writer.end();\n  }\n});\n"
      }
    },
    "root": {
      "res-create.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>create\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1>Create New Root Resource\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Ch3>Temporary ObjectResource\x3C/h3>\n\n  \x3Cform method=\"post\" action=\"{{res_path R.PATH \"{:name}\"}}\">\n    \x3Cinput type=\"text\" name=\":name|newUUID\" value=\"\" {{> text_opts}} placeholder=\"name\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"ui-close\"}}\">\n    \x3Cbutton type=\"submit\">add\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Import File\x3C/h3>\n  \n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{res_path R.PATH}}\">\n    \x3Cinput type=\"file\" name=\":import\" value=\"\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">import\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      }
    },
    "selection": {
      "res-copyto.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>copy to\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Copy \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col>\n{{#include \".\" \"keyvalues\"}}\n    \x3Cli>{{value}}\x3C/li>\n    \x3Cinput form=\"copy_sel\" type=\"hidden\" name=\":copyfrom:{{key}}\" value=\"{{value}}\">\n{{/include}}\n  \x3C/ol>\n\n  \x3Ch1>to\x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-copyto\"}}/\">HOME\x3C/a>\x3C/li>\n{{#include R.DATA_PATH \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-copyto\"}}{{path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{R.DATA_NAME}}\x3C/li>\n  \x3C/ol>\n\n  \x3Col>\n{{#include R.DATA_PATH \"children\"}}\n  {{#if isContentResource}}\n    \x3Cli>{{name}}\x3C/li>\n  {{else}}\n    {{#match path \"!startsWith\" ../R.PATH}}\n    \x3Cli>\n      \x3Ca href=\"{{req_path \".\" \"res-copyto\"}}{{path}}\">{{name}}\x3C/a>\n    \x3C/li>\n    {{/match}}\n  {{/if}}\n{{/include}}\n  \x3C/ol>\n\n  \x3Cform id=\"copy_sel\" method=\"post\" action=\"{{R.PATH}}\">\n    \x3Cinput type=\"hidden\" name=\":copyto\" value=\"{{res_path R.DATA_PATH}}\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">copy\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      },
      "res-delete.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  \x3Ctitle>delete:{{R.PATH}}\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Delete \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col>\n{{#include \".\" \"keyvalues\"}}\n    \x3Cli>{{value}}\x3C/li>\n    \x3Cinput form=\"delete_sel\" type=\"hidden\" name=\":delete:{{key}}\" value=\"{{value}}\">\n{{/include}}\n  \x3C/ol>\n\n  \x3Ch4>Are you sure you want to delete the selection?\n\n  \x3Cform id=\"delete_sel\" method=\"post\" action=\"{{res_path \".\"}}\">\n    \x3Cinput type=\"hidden\" name=\"_rt\" value=\"{{renderType}}\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n    \x3Cbutton type=\"submit\">delete\x3C/button>\n  \x3C/form>\n  \x3C/h4>\n\n\x3C/body>\n\n\x3C/html>\n"
      },
      "res-moveto.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>move to\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Move \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n\n  \x3Col>\n{{#include \".\" \"keyvalues\"}}\n    \x3Cli>{{value}}\x3C/li>\n    \x3Cinput form=\"move_sel\" type=\"hidden\" name=\":movefrom:{{key}}\" value=\"{{value}}\">\n{{/include}}\n  \x3C/ol>\n\n  \x3Ch1>to\x3C/h1>\n\n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-moveto\"}}/\">HOME\x3C/a>\x3C/li>\n{{#include R.DATA_PATH \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path \".\" \"res-moveto\"}}{{path}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli class=\"active\">{{R.DATA_NAME}}\x3C/li>\n  \x3C/ol>\n\n  \x3Col>\n{{#include R.DATA_PATH \"children\"}}\n  {{#if isContentResource}}\n    \x3Cli>{{name}}\x3C/li>\n  {{else}}\n    {{#match path \"!startsWith\" ../R.PATH}}\n    \x3Cli>\n      \x3Ca href=\"{{req_path \".\" \"res-moveto\"}}{{path}}\">{{name}}\x3C/a>\n    \x3C/li>\n    {{/match}}\n  {{/if}}\n{{/include}}\n  \x3C/ol>\n\n  \x3Cform id=\"move_sel\" method=\"POST\" action=\"{{R.PATH}}\">\n    \x3Cinput type=\"hidden\" name=\":moveto\" value=\"{{res_path R.DATA_PATH}}\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">move\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      }
    },
    "templates": {
      "rendertemplates.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n  \n  let types = [];\n  \n  await ctx.listAllResourceNames('.', function (path) {\n    if (path.indexOf('.') > 0 && path.startsWith('_') == false) {\n      let name = Utils.filename(path);\n      let dir = Utils.filename_dir(path).substr(1);\n      if (!types.includes(dir)) types.push(dir);\n    }\n  });\n\n  writer.write(types.sort());\n  writer.end();\n});\n"
      },
      "res-create.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"_libs/ui.css\"}}\n\n  {{#partial \"text_opts\"}}\nautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\" spellcheck=\"false\"\n  {{/partial}}\n\n  \x3Ctitle>create\x3C/title>\n\x3C/head>\n\n\x3Cbody class=\"ui_group ui_dialog\">\n\n  \x3Ch1 class=\"ui_label underlined\">Create New Template in \"{{name}}\"\n    \x3Ca class=\"ui_button inline pull-right\" href=\"{{req_path \".\" \"ui-close\"}}\">X\x3C/a>\n  \x3C/h1>\n  \n  \x3Col class=\"ui_paths\">\n    \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n    \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n    \x3Cli>{{name}}\x3C/li>\n  \x3C/ol>\n\n  \x3Ch3>Renderer Template\x3C/h3>\n\n  \x3Cp>\n    Renderer template is resolved by scanning for a file matching specific naming convention pattern.\n  \x3Cp>\n    Pattern is composed of these parts: \x3Cbr>\n    \x3Cspan>resource type\x3C/span> - usually a directory\x3Cbr>\n    \x3Cspan>selector\x3C/span> - \"default\" or what gets appended after \"{{C.X}}\" like \"json\" for {{C.X}}json\n  \x3Cp>\n    for example:\n  \x3Cul>\n    \x3Cli>\x3Cspan>web/mycomponent/\x3C/span>\x3Cb>default.hbs\x3C/b>\x3C/li>\n  \x3C/ul>\n\n  \x3Cform method=\"post\" action=\"{{R.PATH}}/{:name}/{:sel}.{:ext}\">\n    \x3Cinput type=\"text\" name=\":name\" value=\"{{R.DATA_PATH}}\" placeholder=\"full path\" required=\"\" {{> text_opts}}>\n    {{C.X}}\n    \x3Cinput type=\"text\" name=\":sel\" value=\"default\" placeholder=\"selector\" required=\"\" {{>text_opts}}>\n    .\n    \x3Cselect name=\":ext\" style=\"width:40px\">\n      \x3Coptgroup label=\"Handlebars\">\n        \x3Coption value=\"hbs\">hbs\x3C/option>\n      \x3C/optgroup>\n      \x3Coptgroup label=\"Javascript\">\n        \x3Coption value=\"js\">js\x3C/option>\n      \x3C/optgroup>\n    \x3C/select>\n\n    \x3Cinput type=\"hidden\" name=\"_content\" value=\"\"> \n    \x3Cinput type=\"hidden\" name=\"_rt\" value=\"resource/content\"> \n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path \".\" \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\" value=\"add\">add\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Create Directory\x3C/h3>\n\n  \x3Cform method=\"post\" action=\"{{res_path R.PATH \"{:name}\"}}\">\n    \x3Cinput type=\"text\" name=\":name\" value=\"\" required=\"\" placeholder=\"full path\" {{>text_opts}}>\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\" value=\"add\">add\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Upload File\x3C/h3>\n  \n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{res_path R.PATH}}\">\n    \x3Cinput type=\"file\" name=\":import\" value=\"\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">upload\x3C/button>\n  \x3C/form>\n\n  \x3Ch3>Import File\x3C/h3>\n  \n  \x3Cform method=\"post\" enctype=\"multipart/form-data\" action=\"{{res_path R.PATH}}\">\n    \x3Cinput type=\"file\" name=\":import\" value=\"\">\n    \x3Cinput type=\"hidden\" name=\":forward\" value=\"{{req_path R.PATH \"ui-close\"}}\">\n\n    \x3Cbutton type=\"submit\">import\x3C/button>\n  \x3C/form>\n\n\x3C/body>\n\x3C/html>\n"
      }
    }
  },
  "any": {
    "default.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "(function (res, writer, ctx) {\r\n  writer.start('text/html');\r\n\r\n  writer.write('name:' + res.name);\r\n  writer.write('\x3Ch1>render types:\x3C/h1>');\r\n  writer.write('\x3Cul>');\r\n\r\n  var types = res.renderTypes;\r\n  for (var i = 0; i \x3C types.length; i++) {\r\n    writer.write('\x3Cli>' + types[i] + '\x3C/li>');\r\n  }\r\n  writer.write('\x3C/ul>');\r\n\r\n  writer.write('\x3Ch1>properties:\x3C/h1>');\r\n  writer.write('\x3Cul>');\r\n\r\n  for (var name in res._) {\r\n    var val = res._[name];\r\n    writer.write('\x3Cli>' + name + '=' + val + '\x3C/li>');\r\n  }\r\n\r\n  writer.write('\x3C/ul>');\r\n\r\n  var w = writer.makeNestedContentWriter();\r\n  ctx.listResourceNames('.').then(function (children) {\r\n    w.write('\x3Ch1>children:\x3C/h1>');\r\n    w.write('\x3Cul>');\r\n\r\n    for (var i = 0; i \x3C children.length; i++) {\r\n      var child = children[i];\r\n      w.write('\x3Cli>' + child + '\x3C/a>\x3C/li>');\r\n    }\r\n    w.write('\x3C/ul>');\r\n    w.end();\r\n  });\r\n\r\n  writer.end();\r\n})"
    },
    "dump.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "(function (res, writer, ctx) {\n  res['R'] = ctx.getRequestProperties();\n  res['Q'] = ctx.getQueryProperties();\n  res['C'] = ctx.getConfigProperties();\n  res['S'] = ctx.getSessionProperties();\n\n  writer.start('application/json');\n  writer.write(JSON.stringify(res, null, 2));\n  writer.end();\n});\n"
    },
    "json.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "(function (res, writer) {\n  writer.start('application/json');\n  writer.write(JSON.stringify(res, null, 2));\n  writer.end();\n});\n"
    },
    "keyvalues.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "(function (res, writer, ctx) {\n  writer.start('object/javascript');\n  \n  let rv = [];\n  let names = Object.keys(res._);\n\n  names.sort(function(a, b) {\n    return a.localeCompare(b);\n  });\n\n  for (var i = 0; i \x3C names.length; i++) {\n    var name = names[i];\n    var val = res._[name];\n\n    rv.push({\n      key: name,\n      value: val\n    });\n  }\n\n  writer.write(rv);\n  writer.end();\n})\n"
    },
    "pre-render.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "(function (res, writer, ctx) {\n  writer.end();\n});\n"
    },
    "pre-store.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "(function (res, writer, ctx) {\n  let tm = (new Date().getTime());\n\n  if (!res['_cd']) res['_cd'] = '' + tm;\n  res['_md'] = '' + tm;\n\n  writer.write(res);\n  writer.end();\n});\n"
    },
    "ui-close.hbs": {
      "_ct": "text/plain",
      "_pt": "resource/content",
      "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n  \x3Ctitle>close\x3C/title>\n\n  \x3Cscript>window.close()\x3C/script>\n\x3C/head>\n\x3Cbody>\n\x3C/body>\n\n\x3C/html>\n"
    }
  },
  "system": {
    "shell": {
      "edit.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "\x3C!DOCTYPE html>\n\x3Chtml lang=\"en\">\n\n\x3Chead>\n  \x3Cmeta charset=\"utf-8\">\n  \x3Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \x3Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  \x3Clink rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_css \"resource/res-ui.css\"}}\n\n  \x3Ctitle>shell:{{R.PATH}}\x3C/title>\n\x3C/head>\n  \x3Cstyle>\n    #commandline {\n      width: 100%;\n    }\n  \x3C/style>\n  \x3Cscript>\n      window.addEventListener('DOMContentLoaded', function() {\n        var cmd = document.querySelector('#commandline');\n        if (cmd) {\n          cmd.focus();\n        }\n      });\n  \x3C/script>\n\n\x3Cbody>\n  \x3Cdiv class=\"head\">\n    \x3Col class=\"paths\">\n      \x3Cli>\x3Ca href=\"{{req_path \"/\" \"res-list\"}}\">HOME\x3C/a>\x3C/li>\n{{#include \".\" \"parents\"}}\n      \x3Cli>\x3Ca href=\"{{req_path path \"res-list\"}}\">{{name}}\x3C/a>\x3C/li>\n{{/include}}\n      \x3Cli>{{name}}\x3C/li>\n    \x3C/ol>\n\n    \x3Cpre>\n    \x3C/pre>\n\n    \x3Cform method=\"post\" action=\"{{res_path R.PATH}}\">\n      \x3Cinput type=\"hidden\" name=\"_rt\" value=\"system/shell\">\n      \x3Cinput id=\"commandline\" type=\"text\" autocorrect=\"off\" autocapitalize=\"none\" autocomplete=\"off\" spellcheck=\"false\" name=\":command\">\n    \x3C/form>\n\n  \x3C/div>\n\x3C/body>\n\n\x3C/html>\n"
      },
      "pre-store.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, ctx) {\n  let command = res[':command'];\n  let path = ctx.getCurrentResourcePath();\n  let rstype = 'resource/node';\n  let sel = 'res-shell';\n\n  let write_content = function(rv, out) {\n    let t = '';\n    if (!out) {\n      t = '';\n    }\n    else if (Array.isArray(out)) {\n      t = out.join('\\n');\n    }\n    else {\n      t = '' + out;\n    }\n    \n    rv.content = rv.content.replace('XXX', command + '\\n'+t);\n    writer.write(rv);\n    writer.end();\n  };\n\n  ctx.renderResource(path, rstype, sel).then(function(rv) {\n    try {\n      let x = eval(command);\n      if (Object.getPrototypeOf(x) == Promise.prototype) {\n        x.then(function(out) {\n          write_content(rv, out);\n        });\n      }\n      else {\n        write_content(rv, x);\n      }\n    }\n    catch(ex) {\n      write_content(rv, ex);\n    }\n  });\n});\n"
      }
    }
  },
  "_cd": "1756034307937",
  "_md": "1756034307937"
}
